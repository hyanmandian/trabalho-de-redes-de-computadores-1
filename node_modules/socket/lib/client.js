'use strict';

let net = require('net');
let EventEmitter = require('events').EventEmitter;

class Client extends EventEmitter {
    
    constructor() {
        
        super();
        
    }
    
    createConnection(port, host) {
    
        let self = this;
        
        let config = {
            port: port,
            host: host,
        };
        
        this.client = net.connect(config, () => {
            self.emit('connection', self.client);  
        }).on('data', (data) => {
            self.emit('bufferData', data);
            self.emit('data', data.toString());  
        }).on('end', () => { 
            self.emit('disconnect');
        });
        
        return this;
        
    }
    
    bufferSize() {
        
        return this.client.bufferSize;
        
    }
    
    write(data) {
        
        this.client.write(data);
        
    }
    
}

module.exports = new Client();